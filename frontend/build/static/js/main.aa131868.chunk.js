(this["webpackJsonpinvestment-calculator"]=this["webpackJsonpinvestment-calculator"]||[]).push([[0],{226:function(e,t,n){},333:function(e,t,n){},334:function(e,t,n){},335:function(e,t,n){},336:function(e,t,n){},337:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(44),s=n.n(c),i=n(34),o=n(57),u=(n(204),Object(o.b)({name:"isLoggedIn",initialState:{value:!1},reducers:{setUserLoggedIn:function(e,t){e.value=t.payload}}})),l=function(e){return e.session.value},b=u.actions.setUserLoggedIn,j=u.reducer,p=Object(o.b)({name:"charts",initialState:{value:{charts:[],currentChart:{},propertyIds:[]}},reducers:{setCharts:function(e,t){e.value.charts=t.payload},setCurrentChart:function(e,t){e.value.currentChart=t.payload},setPropertyIds:function(e,t){e.value.propertyIds=t.payload}}}),d=function(e){return e.charts.value.currentChart},h=function(e){return e.charts.value.propertyIds},x=p.actions,O=x.setCharts,m=x.setCurrentChart,v=x.setPropertyIds,f=p.reducer,g=Object(o.b)({name:"expenses",initialState:{value:[]},reducers:{setExpenses:function(e,t){e.value=t.payload}}}),y=(g.actions.setExpenses,g.reducer),N=Object(o.a)({reducer:{session:j,charts:f,expenses:y},devTools:!0}),C=n(20),I=n(176),S=n(416),w=n(420),k=n(418),E=n(419),A=n(28),L=n.n(A),D=n(50),P=n(71),M=n.n(P),R=n(76),T=n.n(R);function U(){return T.a.get("/charts").then((function(e){return e.data}))}function F(e){return T.a.post("/signup",{userName:e}).then((function(e){return e.data}))}function G(e){return T.a.post("/login",{userName:e}).then((function(e){return e.data}))}function Y(){return T.a.post("/logout")}function z(e){return T.a.post("/property-expenses",e)}function B(){return(B=Object(D.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t);case 2:return N.dispatch(b(!0)),e.next=5,$();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(D.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:return N.dispatch(b(!0)),e.next=5,$();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(D.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:N.dispatch(b(!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return q.apply(this,arguments)}function q(){return(q=Object(D.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getUserData"),e.next=3,U();case 3:t=e.sent,N.dispatch(O(t)),N.dispatch(m(t[0])),N.dispatch(v(t.map((function(e){return e.propertyId}))));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return _.apply(this,arguments)}function _(){return(_=Object(D.a)(L.a.mark((function e(t){var n,a,r,c,s,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.loanType,a=t.startDate,r=t.amount,c=t.duration,s=t.loanRate,i={propertyId:N.getState().charts.value.currentChart.propertyId,oneTimeExpenses:[],monthlyExpenses:[],mortgageExpenses:{type:n,startDate:M()(a).format("yyyy-mm-dd"),loanAmount:r,duration:c,loanRate:s}},e.next=4,z(i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=n(2);var K=function(){var e=Object(i.b)(l),t=Object(C.g)();return Object(H.jsx)(S.a,{position:"static",children:Object(H.jsxs)(k.a,{children:[Object(H.jsx)(E.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Investment Calculator"}),e&&Object(H.jsx)(w.a,{color:"inherit",onClick:function(){(function(){return W.apply(this,arguments)})().then((function(){t.push("/login")}))},children:"Logout"})]})})},Q=n(9),V=n(409),X=n(172),ee=n.n(X);function te(e){e.preventDefault()}n(226);var ne="LOGIN",ae="SIGN_UP";var re=function(){var e=Object(a.useState)(ne),t=Object(Q.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(Q.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)(!1),l=Object(Q.a)(u,2),b=l[0],j=l[1],p=Object(C.g)();return Object(H.jsxs)("div",{className:"login-signup",children:[Object(H.jsx)(E.a,{className:"title",variant:"h4",children:n===ne?"Login":"Sign up"}),Object(H.jsxs)("form",{className:"form",onSubmit:function(e){switch(te(e),n){case ne:(function(e){return B.apply(this,arguments)})(i).then((function(){p.push("/")})).catch((function(e){j(!0)}));break;case ae:(function(e){return J.apply(this,arguments)})(i).then((function(){p.push("/")}));break;default:throw new Error("code error, invalid userMode")}},children:[Object(H.jsx)(V.a,{onChange:function(e){o(e.target.value),b&&j(!1)},value:i,className:"form-input",required:!0,label:"User Id"}),Object(H.jsxs)("div",{className:"btn-container",children:[Object(H.jsx)(w.a,{onClick:function(){r(n===ne?ae:ne)},children:n===ne?"Sign up":"Login"}),Object(H.jsx)(w.a,{variant:"contained",type:"submit",children:"Go!"})]})]}),b&&Object(H.jsxs)("div",{className:"error-container",children:[Object(H.jsx)("span",{className:"error-msg",children:"User Doesn't Exist"}),Object(H.jsx)(ee.a,{})]})]})},ce=n(417),se=n(422),ie=n(407),oe=n(404),ue=n(410),le=n(421),be=n(177),je=function(){var e=Object(i.b)(d),t=e.labels,n=e.incomes,a=e.oneTimeExpenses,r=e.netRevenues,c=e.monthlyExpenses,s={labels:t,datasets:[{type:"line",label:"Net Revenue",data:r,backgroundColor:"white",borderColor:"black",borderWidth:2},{label:"Income",data:n,backgroundColor:"lightgreen"},{label:"Mortgage",data:e.mortgageExpenses,backgroundColor:"#931A25"},{label:"Monthly",data:c,backgroundColor:"#E97171"},{label:"One Time",data:a,backgroundColor:"#FFCB8E"}]};return Object(H.jsx)(be.a,{data:s,options:{scales:{x:{stacked:!0},y:{stacked:!0,ticks:{callback:function(e){return e+"$"}}}}}})};n(333);var pe=function(){var e=Object(i.b)(d),t=Object(i.b)(h);return Object(H.jsxs)(se.a,{className:"chart-card",elevation:3,children:[Object(H.jsx)(E.a,{className:"title",variant:"h4",children:"Property"}),Object(H.jsxs)(le.a,{fullWidth:!0,children:[Object(H.jsx)(ue.a,{id:"select-property-id",children:"Property ID"}),Object(H.jsx)(oe.a,{labelId:"select-property-id",id:"select-id",label:"PropertyId",value:e.propertyId||"",onChange:function(e){console.log("on select change"),function(e){var t=N.getState().charts.value.charts.find((function(t){return t.propertyId===e}));N.dispatch(m(t))}(e.target.value)},children:t.map((function(e){return Object(H.jsx)(ie.a,{value:e,children:e},e)}))})]}),Object(H.jsx)(je,{})]})},de=n(65),he=n(423),xe=n(424),Oe=n(412),me=n(405),ve=n(413),fe=n(408),ge=n(402),ye=n(401),Ne=n(403),Ce=n(175),Ie=n.n(Ce),Se=(n(334),"NORMAL"),we="SPITZER",ke=[{value:0,label:"0"},{value:1,label:"1%"},{value:2,label:"2%"},{value:3,label:"3%"},{value:4,label:"4%"},{value:5,label:"5%"}];var Ee=function(){var e=Object(a.useState)(we),t=Object(Q.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(M()()),s=Object(Q.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)(0),l=Object(Q.a)(u,2),b=l[0],j=l[1],p=Object(a.useState)(0),d=Object(Q.a)(p,2),h=d[0],x=d[1],O=Object(a.useState)(1.5),m=Object(Q.a)(O,2),v=m[0],f=m[1];function g(){return(g=Object(D.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(t),e.next=3,Z({loanType:n,startDate:i,amount:b,duration:h,loanRate:v});case 3:console.log("expenses updated");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){o(e)}function N(e){j(+e.target.value)}function C(e){x(+e.target.value)}function I(e){f(e.target.value)}function S(e){r(e.target.value)}function k(){return Object(H.jsxs)("div",{className:"input-container",children:[Object(H.jsx)(E.a,{variant:"h6",className:"input-label",children:"Duration (Months):"}),Object(H.jsx)(Oe.a,{type:"number",value:h,onChange:C})]})}function A(){return Object(H.jsxs)("div",{className:"input-container loan-rate-container",children:[Object(H.jsx)(E.a,{variant:"h6",className:"input-label loan-rate-label",children:"Loan Rate (Percentage):"}),Object(H.jsx)(fe.a,{className:"loan-rate-slider",value:v,onChange:I,step:.1,min:0,max:5,marks:ke,valueLabelDisplay:"on"})]})}return Object(H.jsxs)(se.a,{elevation:3,className:"expenses-card",children:[Object(H.jsx)(E.a,{variant:"h4",className:"title",children:"Expenses"}),Object(H.jsxs)("form",{onSubmit:function(e){return g.apply(this,arguments)},children:[Object(H.jsxs)("div",{className:"input-container",children:[Object(H.jsx)(E.a,{variant:"h6",className:"input-label",children:"Loan Type:"}),Object(H.jsxs)(ve.a,{value:n,onChange:S,row:!0,"aria-label":"loan-type",name:"row-radio-buttons-group",children:[Object(H.jsx)(he.a,{value:Se,control:Object(H.jsx)(me.a,{}),label:"Normal"}),Object(H.jsx)(he.a,{value:we,control:Object(H.jsx)(me.a,{}),label:"Spitzer"})]})]}),Object(H.jsxs)("div",{className:"input-container",children:[Object(H.jsx)(E.a,{variant:"h6",className:"input-label",children:"Start Date:"}),Object(H.jsx)(ye.b,{dateAdapter:ge.a,children:Object(H.jsx)(Ne.a,{label:"Loan Start Date",value:i,onChange:y,inputFormat:"DD/MM/YYYY",renderInput:function(e){return Object(H.jsx)(V.a,Object(de.a)({},e))}})})]}),Object(H.jsxs)("div",{className:"input-container",children:[Object(H.jsx)(E.a,{variant:"h6",className:"input-label",children:"Amount:"}),Object(H.jsx)(Oe.a,{type:"number",value:b,onChange:N,startAdornment:Object(H.jsx)(xe.a,{position:"start",children:"$"})})]}),function(){switch(n){case Se:case we:return Object(H.jsxs)(H.Fragment,{children:[k(),A()]});default:throw new Error("unexpected loan type, invalid value")}}(),Object(H.jsx)("footer",{className:"submit-btn-container",children:Object(H.jsx)(w.a,{variant:"contained",endIcon:Object(H.jsx)(Ie.a,{}),size:"large",type:"submit",children:"Submit"})})]})]})};n(335);var Ae=function(){var e=Object(i.b)(d),t=e.avgAnnualIncome,n=e.avgAnnualExpense,a=e.avgAnnualProfit,r=[{txt:"Avg Annual Income",number:(t||"").toLocaleString(),className:"income"},{txt:"Avg Annual Expense",number:(n||"").toLocaleString(),className:"expense"},{txt:"Avg Annual Profit",number:(a||"").toLocaleString(),className:"profit"}];return Object(H.jsxs)("main",{className:"main",children:[Object(H.jsxs)("div",{className:"chart-and-numbers-container",children:[Object(H.jsx)(pe,{}),Object(H.jsx)("div",{className:"property-numbers-container",children:r.map((function(e){return Object(H.jsxs)(ce.a,{className:"property-number ".concat(e.className),children:[e.txt," ",Object(H.jsx)("br",{}),Object(H.jsx)("span",{className:"number",children:e.number})]},e.txt)}))})]}),Object(H.jsx)(Ee,{})]})};var Le=function(){var e=Object(i.b)(l);return Object(H.jsxs)(I.a,{children:[Object(H.jsx)(K,{}),Object(H.jsxs)(C.d,{children:[Object(H.jsx)(C.b,{path:"/login",children:Object(H.jsx)(re,{})}),Object(H.jsx)(C.b,{path:"/",render:function(){return!0===e?Object(H.jsx)(Ae,{}):Object(H.jsx)(C.a,{to:"/login"})}})]})]})};n(336);s.a.render(Object(H.jsx)(r.a.StrictMode,{children:Object(H.jsx)(i.a,{store:N,children:Object(H.jsx)(Le,{})})}),document.getElementById("root"))}},[[337,1,2]]]);
//# sourceMappingURL=main.aa131868.chunk.js.map