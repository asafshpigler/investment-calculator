(this["webpackJsonpinvestment-calculator"]=this["webpackJsonpinvestment-calculator"]||[]).push([[0],{226:function(e,t,n){},333:function(e,t,n){},334:function(e,t,n){},335:function(e,t,n){},336:function(e,t,n){},337:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(44),s=n.n(c),i=n(34),o=n(57),u=(n(204),Object(o.b)({name:"isLoggedIn",initialState:{value:!1},reducers:{setUserLoggedIn:function(e,t){e.value=t.payload}}})),l=function(e){return e.session.value},b=u.actions.setUserLoggedIn,j=u.reducer,p=Object(o.b)({name:"charts",initialState:{value:{charts:[],currentChart:{},propertyIds:[]}},reducers:{setCharts:function(e,t){e.value.charts=t.payload},setCurrentChart:function(e,t){e.value.currentChart=t.payload},setPropertyIds:function(e,t){e.value.propertyIds=t.payload}}}),d=function(e){return e.charts.value.currentChart},h=function(e){return e.charts.value.propertyIds},x=p.actions,O=x.setCharts,v=x.setCurrentChart,f=x.setPropertyIds,m=p.reducer,g=Object(o.b)({name:"expenses",initialState:{value:[]},reducers:{setExpenses:function(e,t){e.value=t.payload}}}),y=(g.actions.setExpenses,g.reducer),N=Object(o.a)({reducer:{session:j,charts:m,expenses:y},devTools:!0}),C=n(20),I=n(176),S=n(416),w=n(420),k=n(418),E=n(419),L=n(28),A=n.n(L),D=n(50),P=n(75),M=n.n(P);function R(){return M.a.get("/charts").then((function(e){return e.data}))}function T(e){return M.a.post("/signup",{userName:e}).then((function(e){return e.data}))}function U(e){return M.a.post("/login",{userName:e}).then((function(e){return e.data}))}function F(){return M.a.post("/logout")}function G(e,t){return M.a.post("/property-expenses",{propertyId:e,expenses:t})}function Y(){return(Y=Object(D.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t);case 2:return N.dispatch(b(!0)),e.next=5,J();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(D.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:return N.dispatch(b(!0)),e.next=5,J();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(D.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:N.dispatch(b(!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return W.apply(this,arguments)}function W(){return(W=Object(D.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getUserData"),e.next=3,R();case 3:t=e.sent,N.dispatch(O(t)),N.dispatch(v(t[0])),N.dispatch(f(t.map((function(e){return e.propertyId}))));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return q.apply(this,arguments)}function q(){return(q=Object(D.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=N.getState().charts.value.currentChart.propertyId,e.next=3,G(n,{mortgageExpenses:t});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=n(2);var _=function(){var e=Object(i.b)(l),t=Object(C.g)();return Object(Z.jsx)(S.a,{position:"static",children:Object(Z.jsxs)(k.a,{children:[Object(Z.jsx)(E.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Investment Calculator"}),e&&Object(Z.jsx)(w.a,{color:"inherit",onClick:function(){(function(){return B.apply(this,arguments)})().then((function(){t.push("/login")}))},children:"Logout"})]})})},H=n(9),K=n(409),Q=n(172),V=n.n(Q);function X(e){e.preventDefault()}n(226);var ee="LOGIN",te="SIGN_UP";var ne=function(){var e=Object(a.useState)(ee),t=Object(H.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(H.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)(!1),l=Object(H.a)(u,2),b=l[0],j=l[1],p=Object(C.g)();return Object(Z.jsxs)("div",{className:"login-signup",children:[Object(Z.jsx)(E.a,{className:"title",variant:"h4",children:n===ee?"Login":"Sign up"}),Object(Z.jsxs)("form",{className:"form",onSubmit:function(e){switch(X(e),n){case ee:(function(e){return Y.apply(this,arguments)})(i).then((function(){p.push("/")})).catch((function(e){j(!0)}));break;case te:(function(e){return z.apply(this,arguments)})(i).then((function(){p.push("/")}));break;default:throw new Error("code error, invalid userMode")}},children:[Object(Z.jsx)(K.a,{onChange:function(e){o(e.target.value),b&&j(!1)},value:i,className:"form-input",required:!0,label:"User Id"}),Object(Z.jsxs)("div",{className:"btn-container",children:[Object(Z.jsx)(w.a,{onClick:function(){r(n===ee?te:ee)},children:n===ee?"Sign up":"Login"}),Object(Z.jsx)(w.a,{variant:"contained",type:"submit",children:"Go!"})]})]}),b&&Object(Z.jsxs)("div",{className:"error-container",children:[Object(Z.jsx)("span",{className:"error-msg",children:"User Doesn't Exist"}),Object(Z.jsx)(V.a,{})]})]})},ae=n(417),re=n(422),ce=n(407),se=n(404),ie=n(410),oe=n(421),ue=n(177),le=function(){var e=Object(i.b)(d),t=e.labels,n=e.incomes,a=e.oneTimeExpenses,r=e.netRevenues,c=e.monthlyExpenses,s={labels:t,datasets:[{type:"line",label:"Net Revenue",data:r,backgroundColor:"white",borderColor:"black",borderWidth:2},{label:"Income",data:n,backgroundColor:"lightgreen"},{label:"Mortgage",data:e.mortgageExpenses,backgroundColor:"#931A25"},{label:"Monthly",data:c,backgroundColor:"#E97171"},{label:"One Time",data:a,backgroundColor:"#FFCB8E"}]};return Object(Z.jsx)(ue.a,{data:s,options:{scales:{x:{stacked:!0},y:{stacked:!0,ticks:{callback:function(e){return e+"$"}}}}}})};n(333);var be=function(){var e=Object(i.b)(d),t=Object(i.b)(h);return Object(Z.jsxs)(re.a,{className:"chart-card",elevation:3,children:[Object(Z.jsx)(E.a,{className:"title",variant:"h4",children:"Property"}),Object(Z.jsxs)(oe.a,{fullWidth:!0,children:[Object(Z.jsx)(ie.a,{id:"select-property-id",children:"Property ID"}),Object(Z.jsx)(se.a,{labelId:"select-property-id",id:"select-id",label:"PropertyId",value:e.propertyId||"",onChange:function(e){console.log("on select change"),function(e){var t=N.getState().charts.value.charts.find((function(t){return t.propertyId===e}));N.dispatch(v(t))}(e.target.value)},children:t.map((function(e){return Object(Z.jsx)(ce.a,{value:e,children:e},e)}))})]}),Object(Z.jsx)(le,{})]})},je=n(65),pe=n(104),de=n.n(pe),he=n(423),xe=n(424),Oe=n(412),ve=n(405),fe=n(413),me=n(408),ge=n(402),ye=n(401),Ne=n(403),Ce=n(175),Ie=n.n(Ce),Se=(n(334),"NORMAL"),we="SPITZER",ke=[{value:0,label:"0"},{value:1,label:"1%"},{value:2,label:"2%"},{value:3,label:"3%"},{value:4,label:"4%"},{value:5,label:"5%"}];var Ee=function(){var e=Object(a.useState)(we),t=Object(H.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(de()()),s=Object(H.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)(0),l=Object(H.a)(u,2),b=l[0],j=l[1],p=Object(a.useState)(0),d=Object(H.a)(p,2),h=d[0],x=d[1],O=Object(a.useState)(1.5),v=Object(H.a)(O,2),f=v[0],m=v[1];function g(){return(g=Object(D.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(t),e.next=3,$({loanType:n,startDate:i,amount:b,duration:h,loanRate:f});case 3:console.log("expenses updated");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){o(e)}function N(e){j(+e.target.value)}function C(e){x(+e.target.value)}function I(e){m(e.target.value)}function S(e){r(e.target.value)}function k(){return Object(Z.jsxs)("div",{className:"input-container",children:[Object(Z.jsx)(E.a,{variant:"h6",className:"input-label",children:"Duration (Months):"}),Object(Z.jsx)(Oe.a,{type:"number",value:h,onChange:C})]})}function L(){return Object(Z.jsxs)("div",{className:"input-container loan-rate-container",children:[Object(Z.jsx)(E.a,{variant:"h6",className:"input-label loan-rate-label",children:"Loan Rate (Percentage):"}),Object(Z.jsx)(me.a,{className:"loan-rate-slider",value:f,onChange:I,step:.1,min:0,max:5,marks:ke,valueLabelDisplay:"on"})]})}return Object(Z.jsxs)(re.a,{elevation:3,className:"expenses-card",children:[Object(Z.jsx)(E.a,{variant:"h4",className:"title",children:"Expenses"}),Object(Z.jsxs)("form",{onSubmit:function(e){return g.apply(this,arguments)},children:[Object(Z.jsxs)("div",{className:"input-container",children:[Object(Z.jsx)(E.a,{variant:"h6",className:"input-label",children:"Loan Type:"}),Object(Z.jsxs)(fe.a,{value:n,onChange:S,row:!0,"aria-label":"loan-type",name:"row-radio-buttons-group",children:[Object(Z.jsx)(he.a,{value:Se,control:Object(Z.jsx)(ve.a,{}),label:"Normal"}),Object(Z.jsx)(he.a,{value:we,control:Object(Z.jsx)(ve.a,{}),label:"Spitzer"})]})]}),Object(Z.jsxs)("div",{className:"input-container",children:[Object(Z.jsx)(E.a,{variant:"h6",className:"input-label",children:"Start Date:"}),Object(Z.jsx)(ye.b,{dateAdapter:ge.a,children:Object(Z.jsx)(Ne.a,{label:"Loan Start Date",value:i,onChange:y,inputFormat:"DD/MM/YYYY",renderInput:function(e){return Object(Z.jsx)(K.a,Object(je.a)({},e))}})})]}),Object(Z.jsxs)("div",{className:"input-container",children:[Object(Z.jsx)(E.a,{variant:"h6",className:"input-label",children:"Amount:"}),Object(Z.jsx)(Oe.a,{type:"number",value:b,onChange:N,startAdornment:Object(Z.jsx)(xe.a,{position:"start",children:"$"})})]}),function(){switch(n){case Se:case we:return Object(Z.jsxs)(Z.Fragment,{children:[k(),L()]});default:throw new Error("unexpected loan type, invalid value")}}(),Object(Z.jsx)("footer",{className:"submit-btn-container",children:Object(Z.jsx)(w.a,{variant:"contained",endIcon:Object(Z.jsx)(Ie.a,{}),size:"large",type:"submit",children:"Submit"})})]})]})};n(335);var Le=function(){var e=Object(i.b)(d),t=e.avgAnnualIncome,n=e.avgAnnualExpense,a=e.avgAnnualProfit,r=[{txt:"Avg Annual Income",number:(t||"").toLocaleString(),className:"income"},{txt:"Avg Annual Expense",number:(n||"").toLocaleString(),className:"expense"},{txt:"Avg Annual Profit",number:(a||"").toLocaleString(),className:"profit"}];return Object(Z.jsxs)("main",{className:"main",children:[Object(Z.jsxs)("div",{className:"chart-and-numbers-container",children:[Object(Z.jsx)(be,{}),Object(Z.jsx)("div",{className:"property-numbers-container",children:r.map((function(e){return Object(Z.jsxs)(ae.a,{className:"property-number ".concat(e.className),children:[e.txt," ",Object(Z.jsx)("br",{}),Object(Z.jsx)("span",{className:"number",children:e.number})]},e.txt)}))})]}),Object(Z.jsx)(Ee,{})]})};var Ae=function(){var e=Object(i.b)(l);return Object(Z.jsxs)(I.a,{children:[Object(Z.jsx)(_,{}),Object(Z.jsxs)(C.d,{children:[Object(Z.jsx)(C.b,{path:"/login",children:Object(Z.jsx)(ne,{})}),Object(Z.jsx)(C.b,{path:"/",render:function(){return!0===e?Object(Z.jsx)(Le,{}):Object(Z.jsx)(C.a,{to:"/login"})}})]})]})};n(336);s.a.render(Object(Z.jsx)(r.a.StrictMode,{children:Object(Z.jsx)(i.a,{store:N,children:Object(Z.jsx)(Ae,{})})}),document.getElementById("root"))}},[[337,1,2]]]);
//# sourceMappingURL=main.5c016789.chunk.js.map